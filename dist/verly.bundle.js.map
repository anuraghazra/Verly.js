{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Mouse.js","webpack:///./src/Verly.js","webpack:///./src/Vector.js","webpack:///./src/Point.js","webpack:///./src/Stick.js","webpack:///./src/AngleStick.js","webpack:///./node_modules/uuid/dist/esm-browser/rng.js","webpack:///./node_modules/uuid/dist/esm-browser/regex.js","webpack:///./node_modules/uuid/dist/esm-browser/stringify.js","webpack:///./node_modules/uuid/dist/esm-browser/validate.js","webpack:///./node_modules/uuid/dist/esm-browser/v4.js","webpack:///./src/Entity.js","webpack:///./src/TypoGraphy.js","webpack:///./src/app.js","webpack:///./src/Utils.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Mouse","entities","canvas","ctx","this","draggedPoint","down","coord","Vector","offset","offsetCoord","addEventListener","e","setXY","offsetX","pos","x","offsetY","y","sub","resetVelocity","touches","clientX","clientY","pageX","pageY","getNearestPoint","renderDraggedPoint","dragPoint","point","beginPath","strokeStyle","arc","radius","Math","PI","stroke","closePath","k","length","points","dist","iterations","currentFrame","WIDTH","width","HEIGHT","height","mouse","style","scaleFactor","window","devicePixelRatio","parseFloat","backupScale","backup","cloneNode","getContext","drawImage","ceil","setTransform","args","mixEntity","Entity","sticks","push","index","indexOf","splice","concat","apply","addEntity","setupAccessibility","drag","update","renderPointIndex","render","w","h","box","addPoint","addStick","segments","stride1","stride2","hexagon","stride","theta","cos","sin","center","Stick","posx","posy","pinOffset","cloth","xStride","yStride","px","py","tear","threshold","startPoint","endPoint","removeSticks","pin","dontPush","gap","rope","undefined","x0","y0","ragdoll","setRadius","setMass","v1","v2","distSq","angle","v","fromAngle","random","a","b","normalizedRandom","arguments","len","mag","atan2","vLeft","vRight","origin","sqrt","normalize","mult","div","max","dx","dy","z","coeff","heading","vx","vy","oldpos","bounce","friction","groundFriction","gravity","pinned","color","mass","forceAcc","uid","g","f","vel","strength","delta","magSq","magR","normalizeTo","applyForce","add","time","speed","verlyInstance","fillStyle","fill","p1","p2","stiffness","hidden","stepCoef","diff","offsetx","offsety","m1","m2","moveTo","lineTo","getRandomValues","angle2","rotateBy","tmp","lineWidth","rnds8","Uint8Array","rng","crypto","msCrypto","Error","uuid","test","byteToHex","toString","substr","arr","toLowerCase","TypeError","options","buf","rnds","domNodes","node","left","top","nodeId","document","activeElement","getAttribute","foundNode","find","event","findActiveFocusedNode","velocityMultiplier","shiftKey","keyMap","ArrowLeft","setVelocityToPoint","ArrowRight","ArrowUp","ArrowDown","unpin","handleKeyDown","handleKeyUp","forEach","createElement","tabIndex","setAttribute","classList","updateDOMNodePosition","body","appendChild","setGravity","setFriction","map","Point","ishidden","stick","p3","AngleStick","constrain","updatePoints","j","updateSticks","updateConstraints","fillText","renderPoints","renderSticks","size","letter","stickDistance","A","B","C","D","E","S","I","K","U","N","R","G","L","Y","V","X","P","H","O","letters","gridArray","text","Verly","TypoGraphy","rand","min","radians","degrees","clamp","lerp"],"mappings":"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","file":"verly.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export default class Mouse {\r\n  constructor(entities, canvas, ctx) {\r\n    this.entities = entities;\r\n    // Drag Interaction\r\n    this.draggedPoint = null;\r\n    this.down = false;\r\n    this.coord = new Vector();\r\n    this.offset = new Vector();\r\n    this.offsetCoord = new Vector();\r\n    this.canvas = canvas;\r\n    this.ctx = ctx;\r\n\r\n    this.canvas.addEventListener('mousedown', (e) => {\r\n      this.down = true;\r\n      if (this.draggedPoint) {\r\n        this.offset.setXY(e.offsetX - this.draggedPoint.pos.x, e.offsetY - this.draggedPoint.pos.y);\r\n        this.offsetCoord = Vector.sub(this.coord, this.offset);\r\n      }\r\n    })\r\n    this.canvas.addEventListener('mouseup', (e) => {\r\n      if (this.draggedPoint) {\r\n        this.draggedPoint.resetVelocity();\r\n      };\r\n      this.down = false;\r\n      this.draggedPoint = null;\r\n    })\r\n\r\n    this.canvas.addEventListener('mousemove', (e) => {\r\n      this.coord.setXY(e.offsetX, e.offsetY);\r\n      this.offsetCoord = Vector.sub(this.coord, this.offset);\r\n    })\r\n\r\n    // TOUCH\r\n    this.canvas.addEventListener('touchstart', (e) => {\r\n      let offset = e.touches[0];\r\n      this.down = true;\r\n      if (this.draggedPoint) {\r\n        this.offset.setXY(offset.clientX - this.draggedPoint.pos.x, offset.clientY - this.draggedPoint.pos.y);\r\n        this.offsetCoord = Vector.sub(this.coord, this.offset);\r\n      }\r\n    })\r\n    this.canvas.addEventListener('touchend', (e) => {\r\n      if (this.draggedPoint) {\r\n        this.draggedPoint.resetVelocity();\r\n      };\r\n      this.down = false;\r\n      this.draggedPoint = null;\r\n    })\r\n    this.canvas.addEventListener('touchmove', (e) => {\r\n      let offset = e.touches[0];\r\n      this.coord.setXY(offset.pageX, offset.pageY);\r\n      this.offsetCoord = Vector.sub(this.coord, this.offset);\r\n    })\r\n  }\r\n\r\n  dragPoint() {\r\n    if (!this.down) return;\r\n    this.draggedPoint.pos.setXY(this.offsetCoord.x, this.offsetCoord.y);\r\n  }\r\n\r\n  drag() {\r\n    if (!this.down) {\r\n      this.draggedPoint = this.getNearestPoint();\r\n    }\r\n    if (this.draggedPoint) {\r\n      this.renderDraggedPoint(this.draggedPoint);\r\n      this.dragPoint();\r\n    }\r\n  }\r\n  \r\n  renderDraggedPoint(point) {\r\n    this.ctx.beginPath();\r\n    this.ctx.strokeStyle = 'black';\r\n    this.ctx.arc(point.pos.x, point.pos.y, point.radius * 1.5, 0, Math.PI * 2);\r\n    this.ctx.stroke();\r\n    this.ctx.closePath();\r\n  }\r\n\r\n\r\n  getNearestPoint() {\r\n    // if (!this.down) return false;\r\n    let d = 20;\r\n    let p = null;\r\n    for (let k = 0; k < this.entities.length; k++) {\r\n      for (let i = 0; i < this.entities[k].points.length; i++) {\r\n        let dist = this.entities[k].points[i].pos.dist(this.coord);\r\n        if (dist < d) {\r\n          p = this.entities[k].points[i];\r\n        }\r\n      }\r\n    }\r\n    return p;\r\n  }\r\n}\r\n","import Mouse from \"./Mouse\";\r\n\r\n/**\r\n * @class Verly\r\n * @version 1.3.0\r\n * @author <hazru.anurag@gmail.com>\r\n */\r\nclass Verly {\r\n  /**\r\n   *\r\n   * @param {Number} iterations\r\n   * @param {HTMLCanvasElement} canvas\r\n   * @param {CanvasRenderingContext2D} ctx\r\n   */\r\n  constructor(iterations, canvas, ctx) {\r\n    this.entities = [];\r\n    this.iterations = iterations;\r\n    this.currentFrame = 0;\r\n    this.canvas = canvas;\r\n    this.WIDTH = canvas.width;\r\n    this.HEIGHT = canvas.height;\r\n    this.ctx = ctx;\r\n    this.mouse = new Mouse(this.entities, this.canvas, this.ctx);\r\n  }\r\n\r\n  /**\r\n   * sets the canvas DPI for better rendering quality\r\n   */\r\n  setDPI() {\r\n    // Set up CSS size.\r\n    this.canvas.style.width =\r\n      this.canvas.style.width || this.canvas.width + \"px\";\r\n    this.canvas.style.height =\r\n      this.canvas.style.height || this.canvas.height + \"px\";\r\n\r\n    // Get size information.\r\n    var scaleFactor = window.devicePixelRatio / 1;\r\n    var width = parseFloat(this.canvas.style.width);\r\n    var height = parseFloat(this.canvas.style.height);\r\n\r\n    // Backup the this.canvas contents.\r\n    var oldScale = this.canvas.width / width;\r\n    var backupScale = scaleFactor / oldScale;\r\n    var backup = this.canvas.cloneNode(false);\r\n    backup.getContext(\"2d\").drawImage(this.canvas, 0, 0);\r\n\r\n    // Resize the this.canvas.\r\n    this.canvas.width = Math.ceil(width * scaleFactor);\r\n    this.canvas.height = Math.ceil(height * scaleFactor);\r\n\r\n    // Redraw the this.canvas image and scale future draws.\r\n    this.ctx.setTransform(backupScale, 0, 0, backupScale, 0, 0);\r\n    this.ctx.drawImage(backup, 0, 0);\r\n    this.ctx.setTransform(scaleFactor, 0, 0, scaleFactor, 0, 0);\r\n  }\r\n\r\n  /**\r\n   * @param  {...Entity} args\r\n   * @description Joins two Entity Class Together\r\n   *\r\n   * @example\r\n   * let canvas = document.getElementById('c');\r\n   * let ctx = canvas.getContext('2d');\r\n   * let width = canvas.width = 600;\r\n   * let height = canvas.height = 500;\r\n   *\r\n   * let verly = new Verly(16, canvas, ctx);\r\n   * let box = verly.createBox(100, 100, 100, 100);\r\n   * let rope = verly.createRope(100, 100, 15, 10, 0);\r\n   *\r\n   * // verly.joinEntities(...Entity)\r\n   * let mix = verly.joinEntities(box, rope);\r\n   * mix.addStick(0, 18, 20)\r\n   *\r\n   * function animate() {\r\n   *  ctx.clearRect(0, 0, width, height);\r\n   *\r\n   *  verly.update();\r\n   *  verly.render();\r\n   *  verly.interact();\r\n   *  verly.renderPointIndex();\r\n   *\r\n   *  requestAnimationFrame(animate);\r\n   * }\r\n   * animate();\r\n   *\r\n   */\r\n  joinEntities(...args) {\r\n    let mixEntity = new Entity(this.iterations, this);\r\n\r\n    let points = [];\r\n    let sticks = [];\r\n\r\n    // loop through the args and push points and sticks to the array\r\n    for (let i = 0; i < args.length; i++) {\r\n      points.push(args[i].points);\r\n      sticks.push(args[i].sticks);\r\n\r\n      // get the index which item we should splice in [this.entities]\r\n      let index = this.entities.indexOf(args[i]);\r\n      this.entities.splice(index, 1);\r\n    }\r\n\r\n    // join multiple arrays\r\n    points = [].concat.apply([], points);\r\n    sticks = [].concat.apply([], sticks);\r\n\r\n    // add the arrays to the mix::Entity\r\n    mixEntity.points = points;\r\n    mixEntity.sticks = sticks;\r\n\r\n    // add the mix::Entity to [this.entities]\r\n    this.addEntity(mixEntity);\r\n    return mixEntity; // return for chaining\r\n  }\r\n\r\n  /**\r\n   * @param {Entity} e\r\n   */\r\n  addEntity(e) {\r\n    e.setupAccessibility();\r\n    this.entities.push(e);\r\n  }\r\n\r\n  /**\r\n   * drags points\r\n   */\r\n  interact() {\r\n    this.mouse.drag();\r\n  }\r\n\r\n  /**\r\n   * updates all the physics stuff\r\n   */\r\n  update() {\r\n    for (let i = 0; i < this.entities.length; i++) {\r\n      this.entities[i].update();\r\n    }\r\n\r\n    this.currentFrame++;\r\n  }\r\n\r\n  /**\r\n   */\r\n  renderPointIndex() {\r\n    for (let i = 0; i < this.entities.length; i++) {\r\n      this.entities[i].renderPointIndex(this.ctx);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * renders all the entity\r\n   */\r\n  render() {\r\n    for (let i = 0; i < this.entities.length; i++) {\r\n      this.entities[i].render(this.ctx);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {number} x\r\n   * @param {number} y\r\n   * @param {number} w\r\n   * @param {number} h\r\n   */\r\n  createBox(x, y, w, h) {\r\n    const box = new Entity(this.iterations, this, \"Box\");\r\n    box.addPoint(x, y, 0, 0);\r\n    box.addPoint(x + w, y, 0, 0);\r\n    box.addPoint(x + w, y + h, 0, 0);\r\n    box.addPoint(x, y + h, 0, 0);\r\n    box.addStick(0, 1);\r\n    box.addStick(1, 2);\r\n    box.addStick(2, 3);\r\n    box.addStick(3, 0);\r\n    box.addStick(3, 1);\r\n    this.addEntity(box);\r\n    return box;\r\n  }\r\n\r\n  /**\r\n   * @param {number} x\r\n   * @param {number} y\r\n   * @param {number} segments\r\n   * @param {number} radius=50\r\n   * @param {number} stride1=1\r\n   * @param {number} stride2=5\r\n   */\r\n  createHexagon(x, y, segments, radius = 50, stride1 = 1, stride2 = 5) {\r\n    const hexagon = new Entity(this.iterations, this, \"Hexagon\");\r\n\r\n    let stride = (2 * Math.PI) / segments;\r\n\r\n    // points\r\n    for (let i = 0; i < segments; ++i) {\r\n      let theta = i * stride;\r\n      hexagon.addPoint(\r\n        x + Math.cos(theta) * radius,\r\n        y + Math.sin(theta) * radius,\r\n        0,\r\n        0\r\n      );\r\n    }\r\n\r\n    let center = hexagon.addPoint(x, y, 0, 0);\r\n\r\n    // sticks\r\n    for (let i = 0; i < segments; ++i) {\r\n      hexagon.addStick(i, (i + stride1) % segments);\r\n      hexagon.addStick(new Stick(hexagon.points[i], center));\r\n      hexagon.addStick(i, (i + stride2) % segments);\r\n    }\r\n\r\n    this.addEntity(hexagon);\r\n    return hexagon;\r\n  }\r\n\r\n  /**\r\n   * @param {number} posx\r\n   * @param {number} posy\r\n   * @param {number} w\r\n   * @param {number} h\r\n   * @param {number} segments\r\n   * @param {number} pinOffset\r\n   */\r\n  createCloth(posx, posy, w, h, segments, pinOffset) {\r\n    let cloth = new Entity(this.iterations, this, \"Cloth\");\r\n\r\n    let xStride = w / segments;\r\n    let yStride = h / segments;\r\n\r\n    let x, y;\r\n    for (y = 0; y < segments; ++y) {\r\n      for (x = 0; x < segments; ++x) {\r\n        let px = posx + x * xStride - w / 2 + xStride / 2;\r\n        let py = posy + y * yStride - h / 2 + yStride / 2;\r\n        cloth.addPoint(px, py);\r\n\r\n        if (x > 0) {\r\n          cloth.addStick(y * segments + x, y * segments + x - 1);\r\n        }\r\n\r\n        if (y > 0) {\r\n          cloth.addStick(y * segments + x, (y - 1) * segments + x);\r\n        }\r\n      }\r\n    }\r\n\r\n    // as the name suggest\r\n    function tear(threshold) {\r\n      for (let i = 0; i < cloth.sticks.length; i++) {\r\n        // find the distance between two points\r\n        let dist = cloth.sticks[i].startPoint.pos.dist(\r\n          cloth.sticks[i].endPoint.pos\r\n        );\r\n        if (dist > (threshold || 20)) {\r\n          // remove if the dist is > than threshold\r\n          cloth.removeSticks(cloth.sticks[i].startPoint);\r\n        }\r\n      }\r\n    }\r\n\r\n    cloth.tear = tear;\r\n\r\n    for (x = 0; x < segments; ++x) {\r\n      if (x % pinOffset == 0) {\r\n        // magic\r\n        cloth.pin(x);\r\n      }\r\n    }\r\n\r\n    !this.dontPush && this.addEntity(cloth);\r\n    return cloth;\r\n  }\r\n\r\n  /**\r\n   * @param {number} x\r\n   * @param {number} y\r\n   * @param {number} segments=10\r\n   * @param {number} gap=15\r\n   * @param {number} pin=0\r\n   */\r\n  createRope(x, y, segments = 10, gap = 15, pin) {\r\n    let rope = new Entity(this.iterations, this, 'Rope');\r\n\r\n    for (let i = 0; i < segments; i++) {\r\n      rope.addPoint(x + i * gap, y, 0, 0);\r\n    }\r\n\r\n    for (let i = 0; i < segments - 1; i++) {\r\n      rope.addStick(i, (i + 1) % segments);\r\n    }\r\n\r\n    if (pin !== undefined) {\r\n      rope.pin(pin);\r\n    }\r\n    this.addEntity(rope);\r\n    return rope;\r\n  }\r\n\r\n  createRagdoll(x0, y0) {\r\n    let ragdoll = new Entity(this.iterations, this, 'Ragdoll');\r\n\r\n    // Head\r\n    ragdoll.addPoint(x0, y0).setRadius(15).setMass(5);\r\n\r\n    // Groin\r\n    ragdoll.addPoint(x0, y0 + 100);\r\n\r\n    // Hips\r\n    ragdoll.addPoint(x0 + 30, y0 + 90);\r\n    ragdoll.addPoint(x0 - 30, y0 + 90);\r\n\r\n    // Knees\r\n    ragdoll.addPoint(x0 + 20, y0 + 150);\r\n    ragdoll.addPoint(x0 - 20, y0 + 150);\r\n\r\n    // Feet\r\n    ragdoll\r\n      .addPoint(x0 + 30, y0 + 190)\r\n      .setRadius(10)\r\n      .setMass(20);\r\n    ragdoll\r\n      .addPoint(x0 - 30, y0 + 190)\r\n      .setRadius(10)\r\n      .setMass(20);\r\n\r\n    // Neck\r\n    ragdoll.addPoint(x0, y0 + 25);\r\n\r\n    // Shoulders\r\n    ragdoll.addPoint(x0 + 25, y0 + 30);\r\n    ragdoll.addPoint(x0 - 25, y0 + 30);\r\n\r\n    // Hands\r\n    ragdoll\r\n      .addPoint(x0 + 15, y0 + 105)\r\n      .setRadius(10)\r\n      .setMass(5);\r\n    ragdoll\r\n      .addPoint(x0 - 15, y0 + 105)\r\n      .setRadius(10)\r\n      .setMass(5);\r\n\r\n    // \"Muscles\"\r\n    // Head - shoulders\r\n    ragdoll.addStick(0, 9);\r\n    ragdoll.addStick(0, 10);\r\n    // Shoulder - shoulder\r\n    ragdoll.addStick(9, 10);\r\n\r\n    // Shoulders - hips\r\n    ragdoll.addStick(9, 2);\r\n    ragdoll.addStick(10, 3);\r\n    // Shoulders - hips opposite side\r\n    ragdoll.addStick(9, 3);\r\n    ragdoll.addStick(10, 2);\r\n\r\n    // Hips - feet\r\n    ragdoll.addStick(2, 6);\r\n    ragdoll.addStick(3, 7);\r\n\r\n    // Hips - feet, opposite\r\n    ragdoll.addStick(2, 7);\r\n    ragdoll.addStick(3, 6);\r\n\r\n    // Head - groin\r\n    ragdoll.addStick(0, 1);\r\n\r\n    // Hip - hip\r\n    ragdoll.addStick(2, 3);\r\n    // Shoulder - hip\r\n    ragdoll.addStick(9, 2);\r\n    ragdoll.addStick(10, 3);\r\n\r\n    // Head - knee\r\n    ragdoll.addStick(0, 4);\r\n    // Head - knee\r\n    ragdoll.addStick(0, 5);\r\n\r\n    // Head feet\r\n    ragdoll.addStick(0, 6);\r\n    ragdoll.addStick(0, 7);\r\n\r\n    // Body parts\r\n    // Hips\r\n    ragdoll.addStick(1, 2);\r\n    ragdoll.addStick(1, 3);\r\n    // Legs\r\n    ragdoll.addStick(2, 4);\r\n    ragdoll.addStick(3, 5);\r\n    ragdoll.addStick(4, 6);\r\n    ragdoll.addStick(5, 7);\r\n\r\n    ragdoll.addStick(0, 8);\r\n    ragdoll.addStick(8, 1);\r\n\r\n    // Left arm\r\n    ragdoll.addStick(8, 9);\r\n    ragdoll.addStick(9, 11);\r\n\r\n    // Right arm\r\n    ragdoll.addStick(8, 10);\r\n    ragdoll.addStick(10, 12);\r\n\r\n    this.addEntity(ragdoll);\r\n    return ragdoll;\r\n  }\r\n}\r\n\r\nexport default Verly;\r\n","/**\r\n * @class Vector\r\n * @version v1.0.0\r\n * @author Anurag Hazra\r\n * @param {number} x\r\n * @param {number} y\r\n */\r\nclass Vector {\r\n\r\n  constructor(x, y) {\r\n    this.x = x || 0;\r\n    this.y = y || 0;\r\n  }\r\n\r\n  /**\r\n   * get distance from two vectors\r\n   * @param {Vector} v1 \r\n   * @param {Vector} v2 \r\n   * @return {number}\r\n   */\r\n  static dist(v1, v2) {\r\n    return v1.dist(v2);\r\n  }\r\n\r\n  /**\r\n   * get distance squared from two vectors \r\n   * @param {Vector} v1 \r\n   * @param {Vector} v2 \r\n   * @return {number}\r\n   */\r\n  static distSq(v1, v2) {\r\n    return v1.distSq(v2);\r\n  }\r\n\r\n  /**\r\n   * subtract two vectors\r\n   * @param {Vector} v1 \r\n   * @param {Vector} v2 \r\n   * @return {Vector}\r\n   */\r\n  static sub(v1, v2) {\r\n    return new Vector(v1.x - v2.x, v1.y - v2.y);\r\n  }\r\n\r\n  /**\r\n   * add two vectors\r\n   * @param {Vector} v1 \r\n   * @param {Vector} v2 \r\n   * @return {Vector}\r\n   */\r\n  static add(v1, v2) {\r\n    return new Vector(v1.x + v2.x, v1.y + v2.y);\r\n  }\r\n\r\n  /**\r\n   * create vector from angle\r\n   * @param {number} angle \r\n   */\r\n  static fromAngle(angle) {\r\n    let v = new Vector(0, 0);\r\n    v.x = Math.cos(angle);\r\n    v.y = Math.sin(angle);\r\n    return v;\r\n  }\r\n\r\n  /**\r\n   * create random2d vector\r\n   * @return {Vector}\r\n   */\r\n  static random2D() {\r\n    return Vector.fromAngle(Math.random() * Math.PI * 180);\r\n  }\r\n\r\n  /**\r\n   * adds random jitter motion\r\n   * @param {number} a \r\n   * @param {number} b \r\n   * @return {Vector}\r\n   */\r\n  jitter(a, b) {\r\n    var v = new Vector(a, b);\r\n    this.x += normalizedRandom() * v.x;\r\n    this.y += normalizedRandom() * v.y;\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * add this vector to another vector\r\n   * @param {Vector|number} x \r\n   * @param {Number} y \r\n   * @return {Vector}\r\n   */\r\n  add(x, y) {\r\n    if (arguments.length === 1) {\r\n      this.x += x.x;\r\n      this.y += x.y;\r\n    } else if (arguments.length === 2) {\r\n      this.x += x;\r\n      this.y += y;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * subtracts this vector to another vector\r\n   * @param {Vector|number} x \r\n   * @param {Number} y \r\n   * @return {Vector}\r\n   */\r\n  sub(x, y) {\r\n    if (arguments.length === 1) {\r\n      this.x -= x.x;\r\n      this.y -= x.y;\r\n    } else if (arguments.length === 2) {\r\n      this.x -= x;\r\n      this.y -= y;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * multiply this vector to a scalar value or a vector\r\n   * @param {Vector|number} v \r\n   * @return {Vector}\r\n   */\r\n  mult(v) {\r\n    if (typeof v === 'number') {\r\n      this.x *= v;\r\n      this.y *= v;\r\n    } else {\r\n      this.x *= v.x;\r\n      this.y *= v.y;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * divide this vector to a scalar value or a vector\r\n   * @param {Vector|number} v \r\n   * @return {Vector}\r\n   */\r\n  div(v) {\r\n    if (typeof v === 'number') {\r\n      this.x /= v;\r\n      this.y /= v;\r\n    } else {\r\n      this.x /= v.x;\r\n      this.y /= v.y;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * set this vectors angle\r\n   * @param {number} angle \r\n   */\r\n  setAngle(angle) {\r\n    var len = this.mag();\r\n    this.x = Math.cos(angle) * len;\r\n    this.y = Math.sin(angle) * len;\r\n  }\r\n\r\n  /**\r\n   * get the angle thia and given vector\r\n   * @param {Vector} v \r\n   * @returns {number}\r\n   */\r\n  angle(v) {\r\n    return Math.atan2(this.x * v.y - this.y * v.x, this.x * v.x + this.y * v.y);\r\n  }\r\n\r\n  /**\r\n   * @param {Vector} vLeft \r\n   * @param {Vector} vRight\r\n   * @returns {Vector} \r\n   */\r\n  angle2(vLeft, vRight) {\r\n    return Vector.sub(vLeft, this).angle(Vector.sub(vRight, this));\r\n  }\r\n\r\n  /**\r\n   * rotate this vector by some origin and angle\r\n   * @param {Vector} origin \r\n   * @param {theta} theta \r\n   * @returns {Vector}\r\n   */\r\n  rotateBy(origin, theta) {\r\n    var x = this.x - origin.x;\r\n    var y = this.y - origin.y;\r\n    return new Vector(\r\n      x * Math.cos(theta) - y * Math.sin(theta) + origin.x,\r\n      x * Math.sin(theta) + y * Math.cos(theta) + origin.y\r\n    );\r\n  }\r\n\r\n\r\n  /**\r\n   * get the magnitude of this vector\r\n   * @return {number}\r\n   */\r\n  mag() {\r\n    return Math.sqrt(this.x * this.x + this.y * this.y);\r\n  }\r\n\r\n  /**\r\n   * get the magnitude sqr of this vector\r\n   * @return {number}\r\n   */\r\n  magSq() {\r\n    return (this.x * this.x + this.y * this.y);\r\n  }\r\n\r\n  /**\r\n   * set x, y of this vector\r\n   * @param {number} x \r\n   * @param {number} y \r\n   * @return {Vector}\r\n   */\r\n  setXY(x, y) {\r\n    this.x = x;\r\n    this.y = y;\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * set the magnitude of this vector\r\n   * @param {number} value \r\n   * @return {Vector}\r\n   */\r\n  setMag(value) {\r\n    this.normalize();\r\n    this.mult(value);\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * normalize this vector \r\n   * @return {Vector}\r\n   */\r\n  normalize() {\r\n    let m = this.mag();\r\n    if (m > 0) {\r\n      this.div(m);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * normalize this vector to a specific length\r\n   * @param {number} length \r\n   * @return {Vector}\r\n   */\r\n  normalizeTo(length) {\r\n    var mag = this.mag();\r\n    if (mag > 0) {\r\n      mag = length / mag;\r\n      this.mult(mag);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * limit this vector\r\n   * @param {number} max \r\n   * @return {Vector}\r\n   */\r\n  limit(max) {\r\n    if (this.mag() > max) {\r\n      this.normalize();\r\n      this.mult(max);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * get heading of this vector in radians\r\n   * @return {number}\r\n   */\r\n  heading() {\r\n    return (-Math.atan2(-this.y, this.x));\r\n  }\r\n\r\n  /**\r\n   * get distance between this and specific vector\r\n   * @param {Vector} v \r\n   * @return {number}\r\n   */\r\n  dist(v) {\r\n    let dx = this.x - v.x;\r\n    let dy = this.y - v.y;\r\n    return Math.sqrt(dx * dx + dy * dy);\r\n  }\r\n\r\n  /**\r\n   * get distance sqr between this and specific vector\r\n   * @param {Vector} v \r\n   * @return {number}\r\n   */\r\n  distSq(v) {\r\n    let dx = this.x - v.x;\r\n    let dy = this.y - v.y;\r\n    return (dx * dx + dy * dy);\r\n  }\r\n\r\n  /**\r\n   * copy this vector\r\n   * @return {Vector}\r\n   */\r\n  copy() {\r\n    return new Vector(this.x, this.y);\r\n  }\r\n\r\n  /**\r\n   * revert this vector\r\n   * @return {Vector}\r\n   */\r\n  negative() {\r\n    this.x = -this.x;\r\n    this.y = -this.y;\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * return an array representation of this vector\r\n   * @return {Array}\r\n   */\r\n  array() {\r\n    return [this.x, this.y];\r\n  }\r\n\r\n  /**\r\n   * return a string representation of this vector\r\n   * @return {String}\r\n   */\r\n  toString() {\r\n    return \"[\" + this.x + \", \" + this.y + \", \" + this.z + \"]\";\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {Vector} v \r\n   * @return {Vector}\r\n   */\r\n  project(v) {\r\n    var coeff = ((this.x * v.x) + (this.y * v.y)) / ((v.x * v.x) + (v.y * v.y));\r\n    this.x = coeff * v.x;\r\n    this.y = coeff * v.y;\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * rotate this vector\r\n   * @param {number} a \r\n   */\r\n  rotate(a) {\r\n    var b = this.heading() + a;\r\n    var c = this.mag();\r\n    this.x = Math.cos(b) * c;\r\n    this.y = Math.sin(b) * c;\r\n  }\r\n}\r\n\r\nexport default Vector;","class Point {\r\n  /**\r\n   * \r\n   * @param {number} x \r\n   * @param {number} y \r\n   * @param {number=} vx \r\n   * @param {number=} vy \r\n   * @param {number=} radius \r\n   */\r\n  constructor(x, y, vx, vy, radius) {\r\n    this.pos = new Vector(x, y);\r\n    this.oldpos = new Vector(x + (vx || 0), y + (vy || 0));\r\n    this.bounce = 0.99;\r\n    this.friction = 0.97;\r\n    this.groundFriction = 0.7;\r\n    this.gravity = new Vector(0, 1);\r\n    this.pinned = false;\r\n    this.radius = radius || 5;\r\n    this.color = '#e62a4f';\r\n    this.mass = 1;\r\n    this.sticks = [];\r\n    // this.behaviors = [];\r\n    this.forceAcc = 1;\r\n    this.uid = ''\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {Vector} g \r\n   */\r\n  setGravity(g) {\r\n    this.gravity = g;\r\n    return this;\r\n  }\r\n  /**\r\n   * \r\n   * @param {number} f \r\n   */\r\n  setFriction(f) {\r\n    this.friction = f;\r\n    return this;\r\n  }\r\n  /**\r\n   * \r\n   * @param {number} f \r\n   */\r\n  setGroundFriction(f) {\r\n    this.groundFriction = f;\r\n    return this;\r\n  }\r\n  /**\r\n   * \r\n   * @param {number} b\r\n   */\r\n  setBounce(b) {\r\n    this.bounce = b;\r\n    return this;\r\n  }\r\n  /**\r\n   * \r\n   * @param {number} f \r\n   * @returns {Point}\r\n   */\r\n  setForceAcc(f) {\r\n    this.forceAcc = f;\r\n    return this;\r\n  }\r\n  /**\r\n   * \r\n   * @param {number} m \r\n   * @returns {Point}\r\n   */\r\n  setMass(m) {\r\n    this.mass = m;\r\n    return this;\r\n  }\r\n  /**\r\n   * \r\n   * @param {number} radius \r\n   * @returns {Point}\r\n   */\r\n  setRadius(radius) {\r\n    this.radius = radius;\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @param {string} color \r\n   * @returns {Point}\r\n   */\r\n  setColor(color) {\r\n    this.color = color;\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @param {Vector} vel \r\n   * @returns {Point}\r\n   */\r\n  setVelocity(vel) {\r\n    this.oldpos.setXY(vel.x, vel.y);\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @returns {Point}\r\n   */\r\n  pin() {\r\n    this.pinned = true;\r\n    return this;\r\n  }\r\n  /**\r\n   * @returns {Point}\r\n   */\r\n  unpin() {\r\n    this.pinned = false;\r\n    return this;\r\n  }\r\n\r\n  resetVelocity() {\r\n    this.oldpos.setXY(this.pos.x, this.pos.y);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {number} angle \r\n   * @param {number} offset \r\n   */\r\n  rotate(angle, offset) {\r\n    let x = offset.x + (this.pos.x - offset.x) * Math.cos(angle) - (this.pos.y - offset.y) * Math.sin(angle);\r\n    let y = offset.y + (this.pos.x - offset.x) * Math.sin(angle) + (this.pos.y - offset.y) * Math.cos(angle);\r\n    this.pos.setXY(x, y);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {Point} p \r\n   * @param {number} radius \r\n   * @param {number} strength \r\n   */\r\n  resolveBehaviors(p, radius = this.radius, strength = this.forceAcc) {\r\n    var delta = Vector.sub(this.pos, p.pos);\r\n    var dist = delta.magSq();\r\n\r\n    let magR = radius * radius;\r\n    if (dist < magR) {\r\n      var f = delta.normalizeTo(1 - (dist / magR)).mult(strength);\r\n      this.applyForce(f);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {number|Vector} f \r\n   */\r\n  applyForce(f) {\r\n    this.pos.add(f);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {number} x \r\n   * @param {number} y \r\n   * @param {number} time \r\n   * @param {number} radius \r\n   * @param {number} speed \r\n   */\r\n  addMotor(x, y, time, radius, speed) {\r\n    this.pos.x = x + radius * Math.cos(time * speed);\r\n    this.pos.y = y + radius * Math.sin(time * speed);\r\n  }\r\n\r\n  /**\r\n   * @param {Verly} verlyInstance \r\n   */\r\n  constrain(verlyInstance) {\r\n    // if (this.pos.y > HEIGHT - 1) {\r\n    //   this.pos.y = HEIGHT - 1;\r\n    // }\r\n    // if (this.pos.x < 0) {\r\n    //   this.pos.x = 0;\r\n    // }\r\n    // if (this.pos.x > WIDTH - 1) {\r\n    //   this.pos.x = WIDTH - 1;\r\n    // }\r\n    // let vel = Vector.sub(this.pos, this.oldpos);\r\n    if (this.pos.x > verlyInstance.WIDTH - this.radius) {\r\n      this.pos.x = verlyInstance.WIDTH - this.radius;\r\n      // this.oldpos.x = (this.pos.x + vel.x) * this.bounce;\r\n    }\r\n    if (this.pos.x < this.radius) {\r\n      this.pos.x = this.radius;\r\n      // this.oldpos.x = (this.pos.x + vel.x) * this.bounce;\r\n    }\r\n    if (this.pos.y > verlyInstance.HEIGHT - this.radius) {\r\n      this.pos.y = verlyInstance.HEIGHT - this.radius;\r\n      // this.oldpos.y = (this.pos.y + vel.y) * this.bounce;\r\n    }\r\n    if (this.pos.y < this.radius) {\r\n      this.pos.y = this.radius;\r\n      // this.oldpos.y = (this.pos.y + vel.y) * this.bounce;\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * @param {Verly} verlyInstance \r\n   */\r\n  update(verlyInstance) {\r\n    if (this.pinned) return;\r\n    let vel = Vector.sub(this.pos, this.oldpos);\r\n    vel.mult(this.friction);\r\n    // if the point touches the ground set groundFriction\r\n    if (this.pos.y >= verlyInstance.HEIGHT - this.radius && vel.magSq() > 0.000001) {\r\n      var m = vel.mag();\r\n      vel.x /= m;\r\n      vel.y /= m;\r\n      vel.mult(m * this.groundFriction);\r\n    }\r\n    this.oldpos.setXY(this.pos.x, this.pos.y);\r\n    this.pos.add(vel);\r\n    this.pos.add(this.gravity);\r\n  }\r\n\r\n  /**\r\n   * @param {CanvasRenderingContext2D} ctx \r\n   */\r\n  render(ctx) {\r\n    ctx.beginPath();\r\n    ctx.fillStyle = this.color;\r\n    ctx.arc(this.pos.x, this.pos.y, this.radius, 0, Math.PI * 2);\r\n    ctx.fill();\r\n    ctx.closePath();\r\n  }\r\n}\r\n\r\n\r\nexport default Point;","class Stick {\r\n  /**\r\n   * creates a stick between two Point\r\n   * takes optional length and stiffness \r\n   * @param {Point} p1 \r\n   * @param {Point} p2 \r\n   * @param {number=} length \r\n   * @param {number=} stiffness \r\n   * @param {boolean=} hidden \r\n   */\r\n  constructor(p1, p2, length, stiffness, hidden) {\r\n    this.startPoint = p1;\r\n    this.endPoint = p2;\r\n    this.stiffness = stiffness || 2;\r\n    this.color = '#f5476a';\r\n    this.hidden = hidden;\r\n    if (!length) {\r\n      this.length = this.startPoint.pos.dist(this.endPoint.pos);\r\n    } else {\r\n      this.length = length;\r\n    }\r\n    this.startPoint.sticks.push(this);\r\n    this.endPoint.sticks.push(this);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {number=} stepCoef \r\n   */\r\n  update(stepCoef) {\r\n    // not gonna use vectors for performance optimization\r\n    // let dx = this.endPoint.pos.x - this.startPoint.pos.x;\r\n    // let dy = this.endPoint.pos.y - this.startPoint.pos.y;\r\n    // let dist = Math.sqrt(dx * dx + dy * dy);\r\n    // let diff = this.length - dist;\r\n    // let percent = diff / dist / 2;\r\n    // let offsetx = (dx * percent);\r\n    // let offsety = (dy * percent);\r\n    // if (!this.startPoint.pinned) {\r\n    //   this.startPoint.pos.x -= offsetx;\r\n    //   this.startPoint.pos.y -= offsety;\r\n    // }\r\n    // if (!this.endPoint.pinned) {\r\n    //   this.endPoint.pos.x += offsetx;\r\n    //   this.endPoint.pos.y += offsety;\r\n    // }\r\n    // ----- algo two\r\n\r\n    // algo three\r\n    let dx = this.endPoint.pos.x - this.startPoint.pos.x;\r\n    let dy = this.endPoint.pos.y - this.startPoint.pos.y;\r\n    let dist = Math.sqrt(dx * dx + dy * dy);\r\n    let diff = (this.length - dist) / dist * this.stiffness;\r\n\r\n    let offsetx = dx * diff * 0.5;\r\n    let offsety = dy * diff * 0.5;\r\n\r\n    // calculate mass\r\n    let m1 = this.startPoint.mass + this.endPoint.mass;\r\n    let m2 = this.startPoint.mass / m1;\r\n    m1 = this.endPoint.mass / m1;\r\n\r\n    if (!this.startPoint.pinned) {\r\n      this.startPoint.pos.x -= offsetx * m1;\r\n      this.startPoint.pos.y -= offsety * m1;\r\n    }\r\n    if (!this.endPoint.pinned) {\r\n      this.endPoint.pos.x += offsetx * m2;\r\n      this.endPoint.pos.y += offsety * m2;\r\n    }\r\n\r\n    \r\n    // calculate mass\r\n    // var m1 = this.startPoint.mass + this.endPoint.mass;\r\n    // var m2 = this.startPoint.mass / m1;\r\n    // m1 = this.endPoint.mass / m1;\r\n    \r\n    // var normal = Vector.sub(this.startPoint.pos, this.endPoint.pos);\r\n    // var m = normal.magSq();\r\n    // let diff = ((this.length * this.length) - m);\r\n    // normal.mult((diff / m) * this.stiffness * stepCoef);\r\n    \r\n    // if (!this.startPoint.pinned) {\r\n    //   this.startPoint.pos.add(normal);\r\n    // }\r\n    // if (!this.endPoint.pinned) {\r\n    //   this.endPoint.pos.sub(normal);\r\n    // }\r\n  }\r\n\r\n  /**\r\n   * @param {string} color\r\n   * @returns {Stick}\r\n   */\r\n  setColor(color) {\r\n    this.color = color;\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @param {number} length\r\n   * @returns {Stick}\r\n   */\r\n  setLength(length) {\r\n    this.length = length;\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @param {number} value\r\n   * @returns {Stick}\r\n   */\r\n  setStiffness(value) {\r\n    this.stiffness = value;\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @param {boolean} value\r\n   * @returns {Stick}\r\n   */\r\n  setHidden(value) {\r\n    this.hidden = value;\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {CanvasRenderingContext2D} ctx \r\n   */\r\n  render(ctx) {\r\n    if (this.hidden) return;\r\n    ctx.beginPath();\r\n    ctx.strokeStyle = this.color;\r\n    ctx.moveTo(this.startPoint.pos.x, this.startPoint.pos.y);\r\n    ctx.lineTo(this.endPoint.pos.x, this.endPoint.pos.y);\r\n    ctx.stroke();\r\n    ctx.closePath();\r\n  }\r\n}\r\n\r\nexport default Stick;\r\n","class AngleStick {\r\n  /**\r\n   * \r\n   * @param {Point} a \r\n   * @param {Point} b \r\n   * @param {Point} c \r\n   * @param {number} stiffness \r\n   */\r\n  constructor(a, b, c, stiffness) {\r\n    this.a = a;\r\n    this.b = b;\r\n    this.c = c;\r\n    this.angle = this.b.pos.angle2(this.a.pos, this.c.pos);\r\n    this.stiffness = stiffness;\r\n  }\r\n  \r\n  /**\r\n   * \r\n   */\r\n  update() {\r\n    var angle = this.b.pos.angle2(this.a.pos, this.c.pos);\r\n    // get the angle difference\r\n    var diff = angle - this.angle;\r\n    if (diff <= -Math.PI)\r\n      diff += 2 * Math.PI;\r\n    else if (diff >= Math.PI)\r\n      diff -= 2 * Math.PI;\r\n    diff *= 0.1 * this.stiffness;\r\n\r\n    this.a.pos = this.a.pos.rotateBy(this.b.pos, diff);\r\n    this.c.pos = this.c.pos.rotateBy(this.b.pos, -diff);\r\n    this.b.pos = this.b.pos.rotateBy(this.a.pos, diff);\r\n    this.b.pos = this.b.pos.rotateBy(this.c.pos, -diff);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {CanvasRenderingContext2D} ctx \r\n   */\r\n  render(ctx) {\r\n    ctx.beginPath();\r\n    ctx.moveTo(this.a.pos.x, this.a.pos.y);\r\n    ctx.lineTo(this.b.pos.x, this.b.pos.y);\r\n    ctx.lineTo(this.c.pos.x, this.c.pos.y);\r\n    var tmp = ctx.lineWidth;\r\n    ctx.lineWidth = 5;\r\n    ctx.strokeStyle = \"rgba(0, 0, 255, 0.5)\";\r\n    ctx.stroke();\r\n    ctx.lineWidth = tmp;\r\n  }\r\n}\r\n\r\nexport default AngleStick;","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import { v4 } from \"uuid\";\r\nimport Vector from \"./Vector\";\r\n\r\nclass Entity {\r\n  /**\r\n   * @param {number} iterations\r\n   * @param {Verly} verlyInstance\r\n   */\r\n  constructor(iterations, verlyInstance, name) {\r\n    this.points = [];\r\n    this.sticks = [];\r\n    this.domNodes = [];\r\n    this.name = name;\r\n    this.verlyInstance = verlyInstance;\r\n    this.iterations = iterations || 16;\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLElement} node\r\n   * @param {typeof import('./Vector')} p\r\n   */\r\n  updateDOMNodePosition(node, p) {\r\n    if (!node) return;\r\n    node.style.left = `${p.pos.x}px`;\r\n    node.style.top = `${p.pos.y - 1}px`;\r\n  }\r\n\r\n  findActiveFocusedNode() {\r\n    let nodeId = document.activeElement.getAttribute(\"data-nodeid\");\r\n    if (!nodeId) return null;\r\n\r\n    const foundNode = this.points.find((p) => p.uid === nodeId);\r\n    if (!foundNode) return null;\r\n\r\n    return foundNode;\r\n  }\r\n\r\n  /**\r\n   * @param {KeyboardEvent} event\r\n   */\r\n  handleKeyDown(event) {\r\n    const foundNode = this.findActiveFocusedNode();\r\n    if (!foundNode) return;\r\n\r\n    const isFaster = !!event.shiftKey;\r\n    const velocityMultiplier = isFaster ? 5 : 1;\r\n    const keyMap = {\r\n      ArrowLeft: () => {\r\n        this.setVelocityToPoint(foundNode, -velocityMultiplier, 0);\r\n      },\r\n      ArrowRight: () => {\r\n        this.setVelocityToPoint(foundNode, velocityMultiplier, 0);\r\n      },\r\n      ArrowUp: () => {\r\n        this.setVelocityToPoint(foundNode, 0, -velocityMultiplier);\r\n      },\r\n      ArrowDown: () => {\r\n        this.setVelocityToPoint(foundNode, 0, velocityMultiplier);\r\n      },\r\n    };\r\n\r\n    if (keyMap[event.key]) {\r\n      foundNode.pin();\r\n      keyMap[event.key]();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {KeyboardEvent} event\r\n   */\r\n  handleKeyUp(event) {\r\n    const foundNode = this.findActiveFocusedNode();\r\n    if (!foundNode) return;\r\n\r\n    foundNode.resetVelocity();\r\n    if (event.key === ' ') {\r\n      foundNode.unpin()\r\n    }\r\n  }\r\n\r\n  setupAccessibility() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown.bind(this));\r\n    window.addEventListener(\"keyup\", this.handleKeyUp.bind(this));\r\n    this.points.forEach((p, i) => {\r\n      let node = document.createElement(\"div\");\r\n      node.tabIndex = 0;\r\n      node.setAttribute(\"data-nodeid\", p.uid);\r\n      node.setAttribute(\"aria-label\", `Point of ${this.name}, use arrow keys to move point, press space to unpin`);\r\n      node.classList.add(\"point\");\r\n      this.updateDOMNodePosition(node, p);\r\n      document.body.appendChild(node);\r\n      this.domNodes.push(node);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * sets the gravity of this entity\r\n   * @param {Vector} g\r\n   */\r\n  setGravity(g) {\r\n    for (let i = 0; i < this.points.length; i++) {\r\n      this.points[i].setGravity(g);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * sets the friction of this entity\r\n   * @param {number} f\r\n   */\r\n  setFriction(f) {\r\n    for (let i = 0; i < this.points.length; i++) {\r\n      this.points[i].setFriction(f);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * pin a specific Point\r\n   * @param {number} index\r\n   */\r\n  pin(index) {\r\n    this.points[index].pin();\r\n  }\r\n\r\n  /**\r\n   * remove a specific Point\r\n   * @param {Point} p\r\n   */\r\n  removeSticks(p) {\r\n    this.sticks.splice(this.sticks.indexOf(p.sticks[0]), 1);\r\n    p.sticks.splice(0, 1);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {typeof import('./Point').default} point\r\n   * @param {Number} x\r\n   * @param {Number} y\r\n   */\r\n  setVelocityToPoint(point, x, y) {\r\n    point.applyForce(new Vector(x, y));\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Number} x\r\n   * @param {Number} y\r\n   */\r\n  setVelocity(x, y) {\r\n    this.points.map((e) => {\r\n      e.oldpos.x += x;\r\n      e.oldpos.y += y;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * adds a Point in points array with {x,y,vx,vy,radius}\r\n   * @param {Number|Point} x\r\n   * @param {Number=} y\r\n   * @param {Number=} vx\r\n   * @param {Number=} vy\r\n   * @param {Number=} radius\r\n   * @returns {Point}\r\n   */\r\n  addPoint(x, y, vx, vy, radius) {\r\n    let uid = v4();\r\n    let p;\r\n    if (x instanceof Point) {\r\n      p = x;\r\n    } else {\r\n      p = new Point(x, y, vx, vy, radius);\r\n    }\r\n    p.uid = uid;\r\n    this.points.push(p);\r\n    return p;\r\n  }\r\n\r\n  /**\r\n   * adds a stick inbetween two points\r\n   * @param {number|Point} p1\r\n   * @param {number|Point=} p2\r\n   * @param {number=} length\r\n   * @param {number=} stiffness\r\n   * @param {boolean=} ishidden\r\n   */\r\n  addStick(p1, p2, length, stiffness, ishidden) {\r\n    let stick;\r\n    if (p1 instanceof Stick) {\r\n      stick = p1;\r\n    } else {\r\n      stick = new Stick(\r\n        this.points[p1],\r\n        this.points[p2],\r\n        length,\r\n        stiffness,\r\n        ishidden\r\n      );\r\n    }\r\n    this.sticks.push(stick);\r\n    return stick;\r\n  }\r\n\r\n  /**\r\n   * adds a AngleStick in between 3 points\r\n   * @param {Point} p1\r\n   * @param {Point} p2\r\n   * @param {Point} p3\r\n   * @param {number} stiffness\r\n   * @returns {AngleStick}\r\n   */\r\n  addAngleStick(p1, p2, p3, stiffness) {\r\n    let stick;\r\n    if (p1 instanceof AngleStick) {\r\n      stick = p1;\r\n    } else {\r\n      stick = new AngleStick(\r\n        this.points[p1],\r\n        this.points[p2],\r\n        this.points[p3],\r\n        stiffness\r\n      );\r\n    }\r\n    this.sticks.push(stick);\r\n    return stick;\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  updatePoints() {\r\n    for (let i = 0; i < this.points.length; i++) {\r\n      this.points[i].update(this.verlyInstance);\r\n      this.updateDOMNodePosition(this.domNodes[i], this.points[i]);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @methdo updateSticks\r\n   * @param {Number=} stepCoef\r\n   */\r\n  updateSticks(stepCoef) {\r\n    for (let i = 0; i < this.sticks.length; i++) {\r\n      this.sticks[i].update(stepCoef);\r\n    }\r\n  }\r\n\r\n  /**\r\n   */\r\n  updateConstraints() {\r\n    for (let i = 0; i < this.points.length; i++) {\r\n      this.points[i].constrain(this.verlyInstance);\r\n    }\r\n  }\r\n\r\n  /**\r\n   */\r\n  update() {\r\n    // var stepCoef = 1 / this.iterations;\r\n    this.updatePoints();\r\n    for (let j = 0; j < this.iterations; ++j) {\r\n      this.updateSticks();\r\n      this.updateConstraints();\r\n    }\r\n  }\r\n\r\n  /**\r\n   */\r\n  renderPoints() {\r\n    for (let i = 0; i < this.points.length; i++) {\r\n      this.points[i].render(this.verlyInstance.ctx);\r\n    }\r\n  }\r\n\r\n  /**\r\n   */\r\n  renderSticks() {\r\n    for (let i = 0; i < this.sticks.length; i++) {\r\n      this.sticks[i].render(this.verlyInstance.ctx);\r\n    }\r\n  }\r\n\r\n  /**\r\n   */\r\n  renderPointIndex() {\r\n    for (let i = 0; i < this.points.length; i++) {\r\n      this.verlyInstance.ctx.beginPath();\r\n      this.verlyInstance.ctx.fillStyle = \"black\";\r\n      this.verlyInstance.ctx.fillText(\r\n        i,\r\n        this.points[i].pos.x + 5,\r\n        this.points[i].pos.y - 6\r\n      );\r\n      this.verlyInstance.ctx.closePath();\r\n    }\r\n  }\r\n\r\n  /**\r\n   */\r\n  render() {\r\n    this.renderPoints();\r\n    this.renderSticks();\r\n  }\r\n}\r\n\r\nexport default Entity;\r\n\r\n// join(...args) {\r\n//   let points = [];\r\n//   let sticks = [];\r\n\r\n//   // loop through the args and push points and sticks to the array\r\n//   for (let i = 0; i < args.length; i++) {\r\n//     points.push(args[i].points);\r\n//     sticks.push(args[i].sticks);\r\n//   }\r\n\r\n//   // join multiple arrays\r\n//   points = [].concat.apply([], points);\r\n//   sticks = [].concat.apply([], sticks);\r\n\r\n//   // add the arrays to the mix::Entity\r\n//   this.points = points;\r\n//   this.sticks = sticks;\r\n\r\n//   return this; // return for chaining\r\n// }\r\n","class TypoGraphy {\r\n  /**\r\n   * \r\n   * @param {number} x \r\n   * @param {number} y \r\n   * @param {number} size \r\n   * @param {string} letter \r\n   * @param {Verly} verlyInstance \r\n   */\r\n  constructor(x, y, size, letter, verlyInstance) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.size = size;\r\n    this.stickDistance = this.size;\r\n    this.iterations = 50;\r\n    // A\r\n    this.A = [\r\n      [0, 0, 1, 0, 0],\r\n      [0, 1, 1, 1, 0],\r\n      [0, 1, 0, 1, 0],\r\n      [1, 1, 1, 1, 1],\r\n      [1, 0, 0, 0, 1]\r\n    ]\r\n    // B\r\n    this.B = [\r\n      [1, 1, 1, 0, 0],\r\n      [1, 1, 1, 1, 0],\r\n      [1, 1, 1, 0, 0],\r\n      [1, 1, 1, 1, 0],\r\n      [1, 1, 1, 0, 0]\r\n    ]\r\n\r\n    // C\r\n    this.C = [\r\n      [1, 1, 1, 1, 0],\r\n      [1, 1, 1, 1, 0],\r\n      [1, 1, 0, 0, 0],\r\n      [1, 1, 1, 1, 0],\r\n      [1, 1, 1, 1, 0]\r\n    ]\r\n\r\n    // D\r\n    this.D = [\r\n      [1, 1, 1, 0, 0],\r\n      [1, 1, 1, 1, 0],\r\n      [1, 1, 1, 1, 0],\r\n      [1, 1, 1, 1, 0],\r\n      [1, 1, 1, 0, 0]\r\n    ];\r\n\r\n    // E\r\n    this.E = [\r\n      [0, 1, 1, 1, 0],\r\n      [0, 1, 1, 0, 0],\r\n      [0, 1, 1, 1, 0],\r\n      [0, 1, 1, 0, 0],\r\n      [0, 1, 1, 1, 0]\r\n    ]\r\n\r\n    // S\r\n    this.S = [\r\n      [0, 1, 1, 1, 0],\r\n      [1, 1, 1, 0, 0],\r\n      [1, 1, 1, 1, 0],\r\n      [0, 1, 1, 1, 0],\r\n      [1, 1, 1, 0, 0]\r\n    ]\r\n\r\n    // I \r\n    this.I = [\r\n      [0, 0, 1, 0, 0],\r\n      [0, 1, 1, 1, 0],\r\n      [0, 1, 1, 1, 0],\r\n      [0, 1, 1, 1, 0],\r\n      [0, 1, 1, 1, 0]\r\n    ]\r\n\r\n\r\n    // K\r\n    this.K = [\r\n      [1, 0, 1, 1, 0],\r\n      [1, 1, 1, 0, 0],\r\n      [1, 1, 0, 0, 0],\r\n      [1, 1, 1, 0, 0],\r\n      [1, 0, 1, 1, 0]\r\n    ]\r\n\r\n    // U\r\n    this.U = [\r\n      [1, 1, 0, 1, 1],\r\n      [1, 1, 0, 1, 1],\r\n      [1, 1, 0, 1, 1],\r\n      [1, 1, 1, 1, 1],\r\n      [0, 1, 1, 1, 0]\r\n    ]\r\n\r\n    // N\r\n    this.N = [\r\n      [0, 0, 0, 0, 0, 0],\r\n      [1, 1, 0, 0, 1, 1],\r\n      [1, 1, 1, 0, 1, 1],\r\n      [1, 1, 1, 1, 1, 1],\r\n      [1, 1, 0, 1, 1, 1],\r\n      [1, 1, 0, 0, 1, 1]\r\n    ]\r\n\r\n    // R\r\n    this.R = [\r\n      [1, 1, 1, 0, 0],\r\n      [1, 1, 1, 1, 0],\r\n      [1, 1, 1, 1, 0],\r\n      [1, 1, 1, 0, 0],\r\n      [1, 1, 1, 1, 0]\r\n    ]\r\n\r\n    // G\r\n    this.G = [\r\n      [0, 1, 1, 1, 0],\r\n      [1, 1, 1, 0, 0],\r\n      [1, 1, 0, 1, 1],\r\n      [1, 1, 1, 1, 1],\r\n      [0, 1, 1, 1, 0]\r\n    ]\r\n\r\n    // L\r\n    this.L = [\r\n      [1, 1, 0, 0, 0],\r\n      [1, 1, 0, 0, 0],\r\n      [1, 1, 0, 0, 0],\r\n      [1, 1, 1, 1, 1],\r\n      [1, 1, 1, 1, 1]\r\n    ]\r\n\r\n    // Y\r\n    this.Y = [\r\n      [1, 1, 0, 1, 1],\r\n      [1, 1, 0, 1, 1],\r\n      [0, 1, 1, 1, 0],\r\n      [0, 1, 1, 1, 0],\r\n      [0, 1, 1, 1, 0]\r\n    ]\r\n\r\n    // V\r\n    this.V = [\r\n      [1, 0, 0, 0, 1],\r\n      [1, 1, 0, 1, 1],\r\n      [1, 1, 0, 1, 1],\r\n      [1, 1, 1, 1, 1],\r\n      [0, 1, 1, 1, 0]\r\n    ]\r\n\r\n    //X\r\n    this.X = [\r\n      [1, 1, 1, 1, 1],\r\n      [1, 1, 1, 1, 1],\r\n      [1, 1, 1, 1, 1],\r\n      [1, 1, 1, 1, 1],\r\n      [1, 1, 1, 1, 1]\r\n    ]\r\n\r\n    //P\r\n    this.P = [\r\n      [1, 1, 1, 0, 0],\r\n      [1, 1, 1, 1, 0],\r\n      [1, 1, 1, 1, 0],\r\n      [1, 1, 1, 0, 0],\r\n      [1, 1, 1, 0, 0]\r\n    ]\r\n\r\n    //H\r\n    this.H = [\r\n      [1, 1, 0, 1, 1],\r\n      [1, 1, 0, 1, 1],\r\n      [1, 1, 1, 1, 1],\r\n      [1, 1, 0, 1, 1],\r\n      [1, 1, 0, 1, 1]\r\n    ]\r\n\r\n    //O\r\n    this.O = [\r\n      [0, 1, 1, 1, 0],\r\n      [1, 1, 0, 1, 1],\r\n      [1, 1, 0, 1, 1],\r\n      [1, 1, 0, 1, 1],\r\n      [0, 1, 1, 1, 0]\r\n    ]\r\n\r\n    this.letters = {\r\n      A: this.A,\r\n      B: this.B,\r\n      C: this.C,\r\n      D: this.D,\r\n      E: this.E,\r\n      K: this.K,\r\n      I: this.I,\r\n      S: this.S,\r\n      U: this.U,\r\n      N: this.N,\r\n      R: this.R,\r\n      G: this.G,\r\n      L: this.L,\r\n      Y: this.Y,\r\n      V: this.V,\r\n      X: this.X,\r\n      P: this.P,\r\n      H: this.H,\r\n      O: this.O,\r\n    }\r\n\r\n\r\n    let gridArray = this.letters[letter];\r\n\r\n    this.text = new Entity(this.iterations, verlyInstance);\r\n    // this.text.renderPoints = function() {};\r\n\r\n    for (let x = 0; x < gridArray.length; x++) {\r\n      for (let y = 0; y < gridArray[x].length; y++) {\r\n        if (gridArray[y][x] == 1) {\r\n          let p = new Point(this.x + x * this.size, this.y + y * this.size);\r\n          p.setRadius(2);\r\n          this.text.addPoint(p);\r\n        }\r\n      }\r\n    }\r\n\r\n    // join\r\n    for (let i = 0; i < this.text.points.length; i++) {\r\n      for (let j = 0; j < this.text.points.length; j++) {\r\n        if (this.text.points[i] == this.text.points[j]) break;\r\n        let d = this.text.points[i].pos.dist(this.text.points[j].pos);\r\n\r\n        if (d > 0 && d < this.size + this.stickDistance) {\r\n          this.text.addStick(i, j);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default TypoGraphy;","import {\r\n  random,\r\n  radians,\r\n  degrees,\r\n  clamp,\r\n  normalizedRandom,\r\n  lerp\r\n} from './Utils';\r\n\r\nimport Verly from './Verly';\r\nimport Vector from './Vector';\r\nimport Point from './Point';\r\nimport Stick from './Stick';\r\nimport AngleStick from './AngleStick';\r\nimport Entity from './Entity';\r\nimport TypoGraphy from './TypoGraphy';\r\n\r\nwindow.Verly = Verly;\r\nwindow.Vector = Vector;\r\nwindow.Point = Point;\r\nwindow.Stick = Stick;\r\nwindow.AngleStick = AngleStick;\r\nwindow.Entity = Entity;\r\nwindow.TypoGraphy = TypoGraphy;\r\n\r\n// utils\r\nwindow.random = random;\r\nwindow.radians = radians;\r\nwindow.degrees = degrees;\r\nwindow.clamp = clamp;\r\nwindow.normalizedRandom = normalizedRandom;\r\nwindow.lerp = lerp;\r\n\r\nexport default Verly;","/**\r\n * @method normalizedRandom\r\n */\r\nexport const normalizedRandom = function () {\r\n  return Math.random() * 2 - 1;\r\n};\r\n\r\n/**\r\n * @method clamp\r\n * @param {number} value\r\n * @param {number} min\r\n * @param {number} max\r\n */\r\nexport const clamp = function (value, min, max) {\r\n  return Math.max(min, Math.min(value, max));\r\n}\r\n/**\r\n * @method random\r\n */\r\nexport const random = function (rand, min, max) {\r\n  //one param\r\n  if (arguments.length === 1) {\r\n    return Math.random() * arguments[0];\r\n  } else if (arguments.length == 2) {\r\n    //min and max\r\n    max = min;\r\n    min = rand;\r\n    rand = Math.random;\r\n  }\r\n  if (!min && !max) {\r\n    return Math.random();\r\n  } else if (!max) {\r\n    //if only one is provided, then thats actually the max\r\n    max = min;\r\n    return rand() * max;\r\n  }\r\n  return rand() * (max - min) + min;\r\n};\r\n/**\r\n * @method lerp\r\n * @param {number} a\r\n * @param {number} b\r\n * @param {number} p\r\n */\r\nexport const lerp = function (a, b, p) {\r\n  return (b - a) * p + a;\r\n}\r\n\r\n/**\r\n * Convert from degrees to radians.\r\n * @method radians\r\n * @param {number} degrees\r\n */\r\nexport const radians = function(degrees) {\r\n  return degrees * Math.PI / 180;\r\n}\r\n\r\n/**\r\n * Convert from radians to degrees.\r\n * @method degrees\r\n * @param {number} radians\r\n */\r\nexport const degrees = function(radians) {\r\n\treturn radians * 180 / Math.PI;\r\n}"],"sourceRoot":""}